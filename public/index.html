<!DOCTYPE html>
<html lang="en">

<head>
<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/main.js"></script>
    <title>Sign up for update of OptiMice ðŸ–±</title>
</head>

<body>
    <div class="wrapper">
            <div class="row">
                <h1>Sign Up for OptiMice ðŸ–±</h1>
            </div>
            <div class="row">
                <p style="text-align: center;">If you're courious about our project's future,<br>leave you email address so that
                    we can keep you posted!</p>
            </div>
            <div class="row">
                <div class="outer">
                    <input type="text" id="name" class="field" placeholder="Your Name">
                </div>
            </div>
            <div class="row">
                <div class="outer">
                    <input type="text" id="email" class="field" placeholder="Your Email">
                </div>
            </div>
            <div class="row">
                <button id="btn">Sign Up</button>
            </div>
            <div class="row">
                <p id="message">
                </p>
            </div>
    </div>

    <!-- <script>
        window.addEventListener("DOMContentLoaded", () => {
            const button = document.getElementById("btn");
            button.onclick = async () => {
                let name = document.getElementById("name");
                let email = document.getElementById("email");
                const response = await fetch('/signup', {
                    method: "POST",
                    body: JSON.stringify({
                        "name": name.value,
                        "email": email.value
                    }),
                    headers: {
                        "Content-Type": "application/json"
                    }
                });
                const people = await response.json();
                const list = document.getElementById("people-list");
                const msg = document.getElementById("message");

                msg.innerHTML = `Thank you for signing up, our ${numberToOrdinal(people.people.length)} follower!`;                
                console.log(numberToOrdinal(people.people.length));
                name.value = "";
                email.value = "";
            }
        });

        function unixConvertor(timestamp) {
            let unix_timestamp = timestamp;
            var date = new Date(unix_timestamp * 1000);
            var hours = date.getHours();
            var minutes = "0" + date.getMinutes();
            var seconds = "0" + date.getSeconds();
            var formattedTime = `${hours}:${minutes.substr(-2)}:${seconds.substr(-2)}`;
            return formattedTime;
        }

        function numberToOrdinal(i) {
            var j = i % 10,
                k = i % 100;
            if (j == 1 && k != 11) {
                return i + "st";
            }
            if (j == 2 && k != 12) {
                return i + "nd";
            }
            if (j == 3 && k != 13) {
                return i + "rd";
            }
            return i + "th";
        }
    </script> -->
</body>

</html>